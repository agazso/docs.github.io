<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>Development - Swarm Bee Documentation</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=../favicon.png><link rel=stylesheet href=../css/style.min.22036525f935d0fe4d1c49c83c8f541090c86020232c78bd80f3c0fc0cd06478.css></head><body class="page page-default-single"><div id=main-menu-mobile class=main-menu-mobile><ul></ul></div><div class=wrapper><div class=header style=display:none><div class=container><div class=logo><a href=../><img alt=Logo src=../swarm.png></a></div><div class=logo-mobile><a href=../><img alt=Logo src=../swarm.png></a></div><div id=main-menu class=main-menu><ul></ul></div><button id=toggle-main-menu-mobile class="hamburger hamburger--slider" type=button>
<span class=hamburger-box><span class=hamburger-inner></span></span></button></div></div><div class="container pt-2 pt-md-6 pb-3 pb-md-6" style=padding-top:30px!important><div class=row><div class="col-12 col-md-3 mb-3"><div class=sidebar><div class=docs-menu><div class=logo style=margin-bottom:36px><a href=../><img alt=Logo src=../swarm.png></a></div><h4>Bee docs</h4><ul><li><a href=../bee-docs/introduction.html>Introduction</a></li><li><a href=../bee-docs/installation.html>Installation</a></li><li><a href=../bee-docs/start.html>Starting your node</a></li><li><a href=../bee-docs/tutorial.html>Tutorial</a></li><li class=active><a href=../bee-docs/development.html>Development</a></li><li><a href=../bee-docs/API-reference.html>API and debug API</a></li><li><a href=../bee-docs/architecture.html>Architecture</a></li></ul></div></div></div><div class="col-12 col-md-9"><h1 class=title>Development</h1><div class=content><p>Installation from source is described in the <a href=%22/bee-docs/installation.html%22>Installation</a>.</p><h1 id=testing-a-connection-with-pingpong-protocol>Testing a connection with PingPong protocol</h1><p>To check if two nodes are connected and to see the round trip time for message exchange between them, get the overlay address from one node, for example local node 2:</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>curl localhost:6062/addresses
</code></pre></div><p>Make sure that Debug API is enabled and address configured as in examples above.</p><p>And use that address in the Debug API call on another node, for example, local node 1:</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>curl -XPOST localhost:6061/pingpong/d4440baf2d79e481c3c6fd93a2014d2e6fe0386418829439f26d13a8253d04f1
</code></pre></div><h1 id=generating-protobuf>Generating protobuf</h1><p>To process protocol buffer files and generate the Go code from it two tools are needed:</p><ul><li>protoc - <a href=https://github.com/protocolbuffers/protobuf/releases>https://github.com/protocolbuffers/protobuf/releases</a></li><li>protoc-gen-gogofaster - <a href=https://github.com/gogo/protobuf>https://github.com/gogo/protobuf</a></li></ul><p>Makefile rule <code>protobuf</code> can be used to automate <code>protoc-gen-gogofaster</code> installation and code generation:</p><div class=highlight><pre class=chroma><code class=language-sh data-lang=sh>make protobuf
</code></pre></div><h1 id=tracing>Tracing</h1><p>Developers can gain an additional level of insight into the node by enabling <code>tracing</code>. To make use of Tracing, we advice to make use of <a href=https://www.jaegertracing.io/>jaeger</a>.</p><ul><li><p>Set up tracing by:</p><ul><li><p>Start jaeger:
<code>docker run -p 6831:6831/udp -p 16686:16686 jaegertracing/all-in-one:latest</code></p></li><li><p>start locally two bee nodes (different data dirs and ports) and connect them (see &ldquo;Start a private network&rdquo; in the <a href=../bee-docs/tutorial>tutorial section</a>) with <code>--tracing</code> flag provided for both nodes</p></li></ul></li><li><p>Make a call to the pinpong API on one of the two nodes (<code>curl -XPOST localhost:6061/pingpong/&lt;overlay address other node></code>).</p></li></ul><p>Validate tracing in the web interface (<code>http://localhost:16686/</code>).</p></div></div></div></div></div></div><div class=sub-footer><div class=container><div class=row><div class=col-12><div class=sub-footer-inner><ul><li class=zerostatic><a href=https://swarm-gateways.net/bzz:/docs.swarm.eth/>docs.swarm.eth</a></li></ul></div></div></div></div></div><script type=text/javascript src=../js/scripts.min.1237ff71925bb8625c97a9af8db4c54525258bedfd7c47493daaff723bea755e.js></script></body></html>